<?xml version="1.0" encoding="UTF-8"?>
    <beans xmlns="http://www.springframework.org/schema/beans"
        xmlns:context="http://www.springframework.org/schema/context"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:p="http://www.springframework.org/schema/p"
        xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
            http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd">
        <context:component-scan base-package="com.eharmony.mds.configuration"/>
	
        <bean id="stringSerializer" class="org.springframework.data.redis.serializer.StringRedisSerializer"/>
        
        <!-- Match Data Template -->
        <bean id="redisMatchDataTemplate" class="org.springframework.data.redis.core.RedisTemplate"
                p:connection-factory-ref="matchDataJedisConnectionFactory" >
               <property name="keySerializer" ref="stringSerializer" />
               <property name="valueSerializer" ref="stringSerializer"/>
               <property name="hashKeySerializer" ref="stringSerializer" />
               <property name="hashValueSerializer" ref="stringSerializer" />
        </bean>
        <bean id ="matchDataFeedSerializer" class="com.eharmony.services.mymatchesservice.store.serializer.LegacyMatchDataFeedDtoSerializer"/>
        
        <bean id="redisMatchDataStore" class="com.eharmony.services.mymatchesservice.store.MatchFeedRedisStore">
           <constructor-arg name="redisMatchDataTemplate" ref="redisMatchDataTemplate"/>
           <constructor-arg name="matchDataFeedSerializer" ref="matchDataFeedSerializer"/>
        </bean>
        
    </beans>
